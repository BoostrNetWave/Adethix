import{u as T,a as y,r as i,j as e,T as $,B as h,S as F,F as d,b as I,c as u,I as g,d as v,O as k,C as B,M as a,e as S,f as w,g as E,h as D,i as L,k as m}from"./index-BNjt909H.js";function q(){T("Create Advertising Campaign");const l=y(),[p,b]=i.useState(!0);i.useEffect(()=>{p||l("/auth/login")},[p,l]);const[r,x]=i.useState({name:"",expectedBudget:"",topics:[],acceptTerms:!0}),[c,j]=i.useState({acceptTerms:!0}),o=s=>{const{name:n,value:t}=s.target;x({...r,[n]:t})},C=s=>{x({...r,acceptTerms:s.target.checked}),j({...c,acceptTerms:s.target.checked})},f=async s=>{var n;if(s.preventDefault(),c.acceptTerms)try{const t=await L.post("/api/advertiser/campaign",r);(t==null?void 0:t.status)===201?(m.success(t.data.message),l(`/advertiser/campaings/${t.data.createdCampaign._id}/create`)):console.error(t)}catch(t){console.log(t),(n=t==null?void 0:t.response)!=null&&n.status&&(t.response.status===401||t.response.status===403)&&(m.error(t.response.data.message),m.error("Login again"),localStorage.removeItem("token"),b(!1))}else{alert("Accept terms");return}};return e.jsxs(e.Fragment,{children:[e.jsx("center",{children:e.jsx($,{variant:"h6",mb:1,children:"Create Advertising Campaign"})}),e.jsxs(h,{component:"form",sx:{m:1},autoComplete:"off",onSubmit:f,children:[e.jsxs(F,{sx:{width:"100%"},children:[e.jsx(d,{component:"legend",sx:{mt:2,mb:2},children:"Give a name for your advertising campaign"}),e.jsx(I,{label:"Name",type:"text",name:"name",value:r.name,onChange:o,variant:"outlined",sx:{width:"100%"},required:!0,fullWidth:!0}),e.jsx(d,{component:"legend",sx:{mt:2,mb:2},children:"Choose topic(s) for your advertising campaign"}),e.jsxs(u,{variant:"outlined",required:!0,children:[e.jsx(g,{id:"select-topic-label",children:"Topics"}),e.jsxs(v,{labelId:"select-topic-label",name:"topics",multiple:!0,value:r.topics,onChange:o,label:"Topics",input:e.jsx(k,{label:"Topics"}),renderValue:s=>e.jsx(h,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:s.map(n=>e.jsx(B,{label:n},n))}),children:[e.jsx(a,{value:"",disabled:!0,children:"Topics"}),e.jsx(a,{value:"Frontend web development",children:"Frontend web development"}),e.jsx(a,{value:"Backend web development",children:"Backend web development"}),e.jsx(a,{value:"Full stack web development",children:"Full stack web development"}),e.jsx(a,{value:"Cloud service / Web hosting service",children:"Cloud service / Web hosting service"}),e.jsx(a,{value:"Security / Privacy",children:"Security / Privacy"}),e.jsx(a,{value:"DevOps",children:"DevOps"}),e.jsx(a,{value:"Data science / Machine learning",children:"Data science / Machine learning"})]})]}),e.jsx(d,{component:"legend",sx:{mt:2,mb:2},children:"Choose an expected budget for your advertising campaign"}),e.jsxs(u,{variant:"outlined",required:!0,children:[e.jsx(g,{id:"select-budget-label",children:"Expected Budget"}),e.jsxs(v,{labelId:"select-budget-label",name:"expectedBudget",value:r.expectedBudget,onChange:o,label:"Expected Budget",children:[e.jsx(a,{value:"",disabled:!0,children:"Expected Budget"}),e.jsx(a,{value:"$10 - $100",children:"$10 - $100"}),e.jsx(a,{value:"$100 - $500",children:"$100 - $500"}),e.jsx(a,{value:"$500 - $1000",children:"$500 - $1000"}),e.jsx(a,{value:"$1000 & more",children:"$1000 & more"})]})]}),e.jsxs(u,{required:!0,error:!c.acceptTerms,component:"fieldset",children:[e.jsx(S,{control:e.jsx(w,{checked:r.acceptTerms,onChange:C,name:"acceptTerms",color:"primary"}),label:"I accept the terms and conditions"}),!c.acceptTerms&&e.jsx(E,{sx:{mb:1,color:!c.acceptTerms&&"red"},children:"You must accept the terms and conditions"})]})]}),e.jsx(D,{type:"submit",variant:"contained",color:"primary",sx:{m:1},children:"Submit"})]})]})}function M(){return e.jsx(e.Fragment,{children:e.jsx(q,{})})}export{M as default};
